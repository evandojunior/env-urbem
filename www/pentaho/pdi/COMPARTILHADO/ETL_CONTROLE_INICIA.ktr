<transformation>
  <info>
    <name>ETL_CONTROLE_INICIA</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;COMPARTILHADO</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2017&#x2f;04&#x2f;04 14&#x3a;12&#x3a;27.370</created_date>
    <modified_user>-</modified_user>
    <modified_date>2017&#x2f;08&#x2f;11 16&#x3a;00&#x3a;01.699</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA&#x3d;</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>urbem-etl</name>
    <server>&#x24;&#x7b;DB_ETL_HOST_NAME&#x7d;</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_ETL_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_ETL_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_ETL_USER_NAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_ETL_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_ETL_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>N</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>ST_030T_FIR_TODOS_PARAMETROS</from>
      <to>ST_040G_TAO_GRAVA_HISTORICO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_030T_FIR_TODOS_PARAMETROS</from>
      <to>ST_031T_ABT_FALTA_PARAM</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_060T_FIR_EXECUTAR</from>
      <to>ST_061T_ABT_JA_EXECUTANDO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_060T_FIR_EXECUTAR</from>
      <to>ST_070G_INU_ATUALIZA_CONTROLE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_051G_INU_CADASTRA_CONTROLE</from>
      <to>ST_052T_ABT_NAO_HABILITADO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_050T_FIR_CAD_HABILITADO</from>
      <to>ST_051G_INU_CADASTRA_CONTROLE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_050T_FIR_CAD_HABILITADO</from>
      <to>ST_060T_FIR_EXECUTAR</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_040G_TAO_GRAVA_HISTORICO</from>
      <to>ST_050T_FIR_CAD_HABILITADO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_011R_GVR_JOB_NOME</from>
      <to>ST_014R_SVL_JOB_NOME_EXISTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_012R_GRN_REP_JOB_NOMES</from>
      <to>ST_013_ACV_JOB_NOME_EXISTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_013_ACV_JOB_NOME_EXISTE</from>
      <to>ST_014R_SVL_JOB_NOME_EXISTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_010T_TAI_CONTROLE</from>
      <to>ST_015L_JRW_JOB_NOME_EXISTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_015L_JRW_JOB_NOME_EXISTE</from>
      <to>ST_020L_SEV_SET_VARIABLES</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_014R_SVL_JOB_NOME_EXISTE</from>
      <to>ST_015L_JRW_JOB_NOME_EXISTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_020L_SEV_SET_VARIABLES</from>
      <to>ST_025T_FIR_JOB_NOME_INEXISTENTE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_025T_FIR_JOB_NOME_INEXISTENTE</from>
      <to>ST_030T_FIR_TODOS_PARAMETROS</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ST_025T_FIR_JOB_NOME_INEXISTENTE</from>
      <to>ST_026L_SEV_SET_JOB_NOME_INEXISTENTE</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>ST_010T_TAI_CONTROLE</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>urbem-etl</connection>
    <sql>select&#xd;&#xa;&#xd;&#xa;	 cliente_id     -- PARA USO NA TABELA DE CONTROLE E LOG, CHAVE PRIMARIA NA TABELA DE CONTROLE JUNTO COM O JOB_NOME --&#xd;&#xa;    ,cliente_nome   -- PARA USO NA TABELA DE CONTROLE E LOG --&#xd;&#xa;    ,cliente_uf     -- PARA USO NA TABELA DE CONTROLE E LOG --&#xd;&#xa;	,job_nome       -- PARA USO NA TABELA DE CONTROLE E LOG, CHAVE PRIMARIA NA TABELA DE CONTROLE JUNTO COM O CLIENTE_ID --&#xd;&#xa;    ,cadastrado&#x3a;&#x3a;int&#x3a;&#x3a;boolean  -- PARA USO NO CONTROLE DE CADASTRO E LOG --&#xd;&#xa;    ,habilitado&#x3a;&#x3a;int&#x3a;&#x3a;boolean  -- PARA USO NO CONTROLE DE EXECUCAO E LOG --&#xd;&#xa;    ,executando&#x3a;&#x3a;int&#x3a;&#x3a;boolean  -- PARA USO NO CONTROLE DE EXECUCAO E LOG --&#xd;&#xa;&#xd;&#xa;    ,ultima_execucao&#x3a;&#x3a;timestamp&#xd;&#xa;&#xd;&#xa;	-- CONTROLE EXECUCAO&#x3a; SO EXECUTA SE ESTIVER CADASTRADO, HABILITADO, E N&#xc3;O EXECUTANDO. MAS ESTA FOR&#xc7;ADO O CADASTRO E HABILITADO, PORTANTO ATUALMENTE SOMENTE VERIFICA SE ESTA EXECUTANDO&#xd;&#xa;	, 		case&#xd;&#xa;				when cadastrado &#x3d; 1 and habilitado &#x3d; 1 and executando &#x3d; 0 then true else false end&#xd;&#xa;&#xd;&#xa;	-- STATUS SOMENTE PARA APRESENTA&#xc7;&#xc3;O NO LOG&#xd;&#xa;	 as executar&#xd;&#xa;    ,       case &#xd;&#xa;			when cadastrado &#x3d; 1 and habilitado &#x3d; 1 and executando &#x3d; 0      then &#x27;Processo iniciado&#x27;&#xd;&#xa;			when cadastrado &#x3d; 1 and habilitado &#x3d; 1 and executando &#x3d; 1      then &#x27;Processo abortado&#x3a; j&#xe1; em execu&#xe7;&#xe3;o&#x27;&#xd;&#xa;			when cadastrado &#x3d; 1 and habilitado &#x3d; 0                         then &#x27;Processo abortado&#x3a; job n&#xe3;o habilitado&#x27;&#xd;&#xa;			when cadastrado &#x3d; 0                                            then &#x27;Processo abortado&#x3a; n&#xe3;o cadastrado&#x27; end&#xd;&#xa;     as status&#xd;&#xa;    ,now&#x28;&#x29; as data_registro &#xd;&#xa;	, 		&#x28;case&#xd;&#xa;				when cadastrado &#x3d; 1 and habilitado &#x3d; 1 and executando &#x3d; 0 then now&#x28;&#x29; else ultima_execucao&#x3a;&#x3a;timestamp end&#x29;&#x3a;&#x3a;timestamp&#xd;&#xa;	 as execucao_inicio&#xd;&#xa;    ,null&#x3a;&#x3a;timestamp as limpa_execucao_fim&#xd;&#xa;&#xd;&#xa;	-- PARA PASSAGEM DE PARAMETROS AO JOB PRINCIPAL --&#xd;&#xa;    ,&#x27;&#x24;&#x7b;DB_HOST_NAME&#x7d;&#x27;  as DB_HOST_NAME&#xd;&#xa;    ,&#x27;&#x24;&#x7b;DB_NAME&#x7d;&#x27;       as DB_NAME&#xd;&#xa;    ,&#x27;&#x24;&#x7b;DB_PORT&#x7d;&#x27;       as DB_PORT&#xd;&#xa;    ,&#x27;&#x24;&#x7b;DB_USER_NAME&#x7d;&#x27;  as DB_USER_NAME&#xd;&#xa;    ,&#x27;&#x24;&#x7b;DB_PASSWORD&#x7d;&#x27;   as DB_PASSWORD&#xd;&#xa;	,&#x27;&#x24;&#x7b;ID&#x7d;&#x27;            as ID&#xd;&#xa;	,array_to_string&#x28;   &#x28;   regexp_split_to_array&#x28;job_nome, E&#x27;&#x5c;&#x2f;&#x27;&#x29;   &#x29;&#x5b;1&#x3a;&#x28;   array_length&#x28;   regexp_split_to_array&#x28;job_nome, E&#x27;&#x5c;&#x2f;&#x27;&#x29;   ,1&#x29;   -1&#x29;&#x5d;,   &#x27;&#x2f;&#x27;&#x29; &#x7c;&#x7c; &#x27;&#x2f;&#x27; as job_caminho      -- PARA EXECUCAO DO JOB, CAMINHO DO JOB PRINCIPAL A SER EXECUTADO --&#xd;&#xa;	,&#x28;   regexp_split_to_array&#x28;job_nome, E&#x27;&#x5c;&#x2f;&#x27;&#x29;   &#x29;&#x5b;   array_length&#x28;   regexp_split_to_array&#x28;job_nome, E&#x27;&#x5c;&#x2f;&#x27;&#x29;   ,1&#x29;   &#x5d; as job_nome_curto                                           -- PARA EXECUCAO DO JOB, NOME DO JOB PRINCIPAL A SER EXECUTADO    --&#xd;&#xa;&#xd;&#xa;&#x2f;&#x2a;  FACILITADOR PARA O ETENTDIMENTO DO ARRAY&#xd;&#xa;&#xd;&#xa;	-- CRIA ARRAY COM AS LETRAS, SEPARA POR VIRGULA&#xd;&#xa;	select array&#x5b;&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;&#x5d; &#xd;&#xa;		-- &#x7b;A,B,C,D&#x7d;&#xd;&#xa;	-- CRIA UM ARRAY QUEBRANDO  POR BARRA &#x28;&#x2f;&#x29;, OBSERVE QUE A PRIMEIRO ELEMENTO REPRESENTA O QUE VEM ANTES DA PRIMEIRA BARRA	&#xd;&#xa;	select regexp_split_to_array&#x28;&#x27;&#x2f;A&#x2f;B&#x2f;C&#x2f;D&#x27;, E&#x27;&#x5c;&#x2f;&#x27;&#x29; &#xd;&#xa;		-- &#x7b;,A,B,C,D&#x7d;&#xd;&#xa;	-- CONTA OS ELEMENTOS DO ARRAY &#x28;CONTA OS ELEMENTOS ANTES DA VIRGULA, O SEPARADOR &#xc9; A VIRGULA&#x29;	&#xd;&#xa;	select array_length&#x28;   regexp_split_to_array&#x28;&#x27;&#x2f;A&#x2f;B&#x2f;C&#x2f;D&#x27;, E&#x27;&#x5c;&#x2f;&#x27;&#x29;   ,1&#x29; &#xd;&#xa;		-- 5 para &#x7b;,A,B,C,D&#x7d;&#xd;&#xa;	-- TRANSFORMA UM ARRAY EM UMA STRING CONCATENANDO O SEPARADOR BARRA &#x28;&#x2f;&#x29;	&#xd;&#xa;	select array_to_string&#x28;   array&#x5b;&#x27;&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;&#x5d;   ,&#x27;&#x2f;&#x27;&#x29; &#xd;&#xa;		-- &#x2f;A&#x2f;B&#x2f;C&#x2f;D&#xd;&#xa;	-- FILTRA O ARRAY DA POSICAO 1 ATE A 4, OBSERVE QUE REMOVEU O QUINTO ELEMENTO	&#xd;&#xa;	select &#x28;array&#x5b;&#x27;&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;&#x5d;&#x29;&#x5b;1&#x3a;4&#x5d; &#xd;&#xa;		-- &#x7b;,A,B,C&#x7d;&#xd;&#xa;	select &#x28;array&#x5b;&#x27;&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;&#x5d;&#x29;&#x5b;5&#x5d;&#xd;&#xa;		-- D&#xd;&#xa;&#xd;&#xa;&#x2a;&#x2f;&#xd;&#xa;&#xd;&#xa;from &#xd;&#xa;&#x28;&#xd;&#xa;	-- O RESULTADO DAQUI SERVE PARA&#x3a;&#xd;&#xa;	-- 1&#x29; CASO N&#xc3;O ESTAR CADASTRADO O JOB PARA O CLIENTE, CADASTRAR&#xd;&#xa;	--		OBS.&#x3a; QUANDO AINDA N&#xc3;O ESTIVER CADASTRADO, IR&#xc1; GERAR UMA LINHA PARA CADASTRAR E HABILITAR&#xd;&#xa;	-- 2&#x29; VERIFICAR SE ESTA HABILITADO&#xd;&#xa;	-- 3&#x29; VERIFICAR SE ESTA EM EXECUCAO&#xd;&#xa;	select&#xd;&#xa;		 cliente_id&#xd;&#xa;	    ,max&#x28;cliente_nome&#x29; cliente_nome&#xd;&#xa;	    ,max&#x28;cliente_uf&#x29; cliente_uf&#xd;&#xa;		,job_nome&#xd;&#xa;	    ,1					  as cadastrado  -- FOR&#xc7;A COMO CADASTRADO E J&#xc1; CADASTRA --&#xd;&#xa;	    ,1				      as habilitado  -- FOR&#xc7;A COMO HABILITADO --&#xd;&#xa;--	    ,max&#x28;cadastrado&#x29;      as cadastrado  -- USANDO AQUI CADASTRA CASO N&#xc3;O CADASTRADO, MAS N&#xc3;O HABILITA --&#xd;&#xa;--	    ,max&#x28;habilitado&#x29;      as habilitado  -- USANDO AQUI, QUANDO FOR CADASTRADO,N&#xc3;O HABILITA, PRECISA SER FEITO MANUALMENTE --&#xd;&#xa;	    ,max&#x28;executando&#x29;      as executando&#xd;&#xa;	    ,max&#x28;execucao_inicio&#x29; as ultima_execucao&#xd;&#xa;&#xd;&#xa;	from &#x28;    &#xd;&#xa;&#xd;&#xa;		-- CONSULTA BANCO E GERA UMA LINHA CASO JA TENHA SIDO CADASTRADO CONTENDO SE HABILITADO E EXECUTANDO&#xd;&#xa;		select&#xd;&#xa;			 cliente_id&#xd;&#xa;		    ,cliente_nome&#xd;&#xa;		    ,cliente_uf&#xd;&#xa;			,job_nome&#xd;&#xa;		    ,1 as cadastrado -- CASO EXISTA UMA LINHA SIGNIFICA QUE ESTA CADASTRADO -- &#xd;&#xa;		    ,case when habilitado &#x3d; true then 1 else 0 end habilitado&#xd;&#xa;		    ,case when executando &#x3d; true then 1 else 0 end executando  &#xd;&#xa;			,to_char&#x28;execucao_inicio,&#x27;YYYY-MM-DD HH24&#x3a;MI&#x3a;SS&#x27;&#x29; as execucao_inicio&#xd;&#xa;		from etl.etl_controle_execucao&#xd;&#xa;		where &#xd;&#xa;			cliente_id &#x3d; &#x27;&#x24;&#x7b;DB_HOST_NAME&#x7d;&#x3a;&#x24;&#x7b;DB_PORT&#x7d;&#x27; -- &#x27;&#x24;&#x7b;CLIENTE_ID&#x7d;&#x27; &#x3c;- CLIENTE_ID PASSOU A SER IP DO BANCO E A PORTA&#xd;&#xa;			and job_nome &#x3d; &#x27;&#x24;&#x7b;JOB_NOME&#x7d;&#x27;&#xd;&#xa;		union all&#xd;&#xa;&#xd;&#xa;		-- SEMPRE GERA UMA LINHA PARA CASO AINDA N&#xc3;O ESTEJA CADASTRADO, CADASTRAR&#xd;&#xa;		select&#xd;&#xa;			 &#x27;&#x24;&#x7b;DB_HOST_NAME&#x7d;&#x3a;&#x24;&#x7b;DB_PORT&#x7d;&#x27; as cliente_id -- &#x27;&#x24;&#x7b;CLIENTE_ID&#x7d;&#x27; &#x3c;- CLIENTE_ID PASSOU A SER IP DO BANCO E A PORTA&#xd;&#xa;		    ,&#x27;&#x24;&#x7b;CLIENTE_NOME&#x7d;&#x27; as cliente_nome&#xd;&#xa;		    ,&#x27;&#x24;&#x7b;CLIENTE_UF&#x7d;&#x27; as cliente_uf    &#xd;&#xa;			,&#x27;&#x24;&#x7b;JOB_NOME&#x7d;&#x27; as job_nome&#xd;&#xa;		    ,0 as cadastrado &#xd;&#xa;		    ,0 as habilitado &#xd;&#xa;		    ,0 as executando&#xd;&#xa;		    ,null as ultima_execucao&#xd;&#xa;&#xd;&#xa;	&#x29; a&#xd;&#xa;	group by &#xd;&#xa;		 cliente_id&#xd;&#xa;--	    ,cliente_nome&#xd;&#xa;--	    ,cliente_uf     &#xd;&#xa;		,job_nome&#xd;&#xa;&#x29; b		&#xd;&#xa; &#xd;&#xa;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_020L_SEV_SET_VARIABLES</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <field_name>cliente_id</field_name>
        <variable_name>CLIENTE_ID</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>cliente_nome</field_name>
        <variable_name>CLIENTE_NOME</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>cliente_uf</field_name>
        <variable_name>CLIENTE_UF</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>job_nome</field_name>
        <variable_name>JOB_NOME</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>cadastrado</field_name>
        <variable_name>CADASTRADO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>habilitado</field_name>
        <variable_name>HABILITADO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>executando</field_name>
        <variable_name>EXECUTANDO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>ultima_execucao</field_name>
        <variable_name>ULTIMA_EXECUCAO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>status</field_name>
        <variable_name>STATUS</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>data_registro</field_name>
        <variable_name>DATA_REGISTRO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>executar</field_name>
        <variable_name>EXECUTAR</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>execucao_inicio</field_name>
        <variable_name>EXECUCAO_INICIO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>db_host_name</field_name>
        <variable_name>DB_HOST_NAME</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>db_name</field_name>
        <variable_name>DB_NAME</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>db_port</field_name>
        <variable_name>DB_PORT</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>db_user_name</field_name>
        <variable_name>DB_USER_NAME</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>db_password</field_name>
        <variable_name>DB_PASSWORD</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>job_caminho</field_name>
        <variable_name>JOB_CAMINHO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>job_nome_curto</field_name>
        <variable_name>JOB_NOME_CURTO</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>id</field_name>
        <variable_name>ID</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>job_nome_existe</field_name>
        <variable_name>JOB_NOME_EXISTE</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      </fields>
    <use_formatting>Y</use_formatting>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_030T_FIR_TODOS_PARAMETROS</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
<send_true_to>ST_040G_TAO_GRAVA_HISTORICO</send_true_to>
<send_false_to>ST_031T_ABT_FALTA_PARAM</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>cliente_id</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>cliente_nome</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>cliente_uf</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>job_nome</leftvalue>
   <function>IS NOT NULL</function>
   <rightvalue/>
   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>job_nome_existe</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>S</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_031T_ABT_FALTA_PARAM</name>
    <type>Abort</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
      <row_threshold>0</row_threshold>
      <message>PARAMETRO&#x28;S&#x29; OBRIGATORIO&#x28;S&#x29; NAO INFORMADO&#x28;S&#x29;</message>
      <always_log_rows>Y</always_log_rows>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_040G_TAO_GRAVA_HISTORICO</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>urbem-etl</connection>
    <schema>etl</schema>
    <table>etl_historico_execucao</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
        <field>
          <column_name>cliente_id</column_name>
          <stream_name>cliente_id</stream_name>
        </field>
        <field>
          <column_name>cliente_nome</column_name>
          <stream_name>cliente_nome</stream_name>
        </field>
        <field>
          <column_name>cliente_uf</column_name>
          <stream_name>cliente_uf</stream_name>
        </field>
        <field>
          <column_name>job_nome</column_name>
          <stream_name>job_nome</stream_name>
        </field>
        <field>
          <column_name>status</column_name>
          <stream_name>status</stream_name>
        </field>
        <field>
          <column_name>data_registro</column_name>
          <stream_name>data_registro</stream_name>
        </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_050T_FIR_CAD_HABILITADO</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
<send_true_to>ST_060T_FIR_EXECUTAR</send_true_to>
<send_false_to>ST_051G_INU_CADASTRA_CONTROLE</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>cadastrado</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>Boolean</type><text>Y</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>habilitado</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>Boolean</type><text>Y</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_051G_INU_CADASTRA_CONTROLE</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>urbem-etl</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema>etl</schema>
      <table>etl_controle_execucao</table>
      <key>
        <name>cliente_id</name>
        <field>cliente_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>job_nome</name>
        <field>job_nome</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>cliente_id</name>
        <rename>cliente_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cliente_nome</name>
        <rename>cliente_nome</rename>
        <update>N</update>
      </value>
      <value>
        <name>cliente_uf</name>
        <rename>cliente_uf</rename>
        <update>N</update>
      </value>
      <value>
        <name>job_nome</name>
        <rename>job_nome</rename>
        <update>N</update>
      </value>
      <value>
        <name>habilitado</name>
        <rename>habilitado</rename>
        <update>N</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>352</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_052T_ABT_NAO_HABILITADO</name>
    <type>Abort</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
      <row_threshold>0</row_threshold>
      <message>JOB  N&#xc3;O CADASTRADO OU N&#xc3;O HABILITADO</message>
      <always_log_rows>Y</always_log_rows>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_060T_FIR_EXECUTAR</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
<send_true_to>ST_070G_INU_ATUALIZA_CONTROLE</send_true_to>
<send_false_to>ST_061T_ABT_JA_EXECUTANDO</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>executar</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>Boolean</type><text>Y</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>464</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_061T_ABT_JA_EXECUTANDO</name>
    <type>Abort</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
      <row_threshold>0</row_threshold>
      <message>JOB J&#xc1; EM EXECU&#xc7;&#xc3;O</message>
      <always_log_rows>Y</always_log_rows>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>464</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_070G_INU_ATUALIZA_CONTROLE</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>urbem-etl</connection>
    <commit>100</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema>etl</schema>
      <table>etl_controle_execucao</table>
      <key>
        <name>cliente_id</name>
        <field>cliente_id</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <key>
        <name>job_nome</name>
        <field>job_nome</field>
        <condition>&#x3d;</condition>
        <name2/>
      </key>
      <value>
        <name>cliente_id</name>
        <rename>cliente_id</rename>
        <update>N</update>
      </value>
      <value>
        <name>cliente_nome</name>
        <rename>cliente_nome</rename>
        <update>N</update>
      </value>
      <value>
        <name>cliente_uf</name>
        <rename>cliente_uf</rename>
        <update>N</update>
      </value>
      <value>
        <name>job_nome</name>
        <rename>job_nome</rename>
        <update>N</update>
      </value>
      <value>
        <name>habilitado</name>
        <rename>habilitado</rename>
        <update>N</update>
      </value>
      <value>
        <name>executando</name>
        <rename>executar</rename>
        <update>Y</update>
      </value>
      <value>
        <name>execucao_inicio</name>
        <rename>execucao_inicio</rename>
        <update>Y</update>
      </value>
      <value>
        <name>execucao_fim</name>
        <rename>limpa_execucao_fim</rename>
        <update>Y</update>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_012R_GRN_REP_JOB_NOMES</name>
    <type>GetRepositoryNames</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <object_type>Jobs</object_type>
    <rownum>Y</rownum>
    <rownum_field>rownr</rownum_field>
    <file>
      <directory>&#x2f;</directory>
      <name_mask>.&#x2a;</name_mask>
      <exclude_name_mask/>
      <include_subfolders>Y</include_subfolders>
    </file>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>768</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_011R_GVR_JOB_NOME</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>job_nome</name>
        <variable>&#x24;&#x7b;JOB_NOME&#x7d;</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>384</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_014R_SVL_JOB_NOME_EXISTE</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>ST_013_ACV_JOB_NOME_EXISTE</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>job_nome</name>
        <field>object</field>
      </key>
      <value>
        <name>job_nome_existe</name>
        <rename>job_nome_existe</rename>
        <default>N</default>
        <type>String</type>
      </value>
    </lookup>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>384</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_013_ACV_JOB_NOME_EXISTE</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>job_nome_existe</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>S</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_015L_JRW_JOB_NOME_EXISTE</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
      <directory>&#x25;&#x25;java.io.tmpdir&#x25;&#x25;</directory>
      <prefix>out</prefix>
      <cache_size>500</cache_size>
      <main/>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue/>
 <function>&#x3d;</function>
 <rightvalue/>
 </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_025T_FIR_JOB_NOME_INEXISTENTE</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
<send_true_to>ST_030T_FIR_TODOS_PARAMETROS</send_true_to>
<send_false_to>ST_026L_SEV_SET_JOB_NOME_INEXISTENTE</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>job_nome_existe</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>S</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>128</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step>
    <name>ST_026L_SEV_SET_JOB_NOME_INEXISTENTE</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <field_name>job_nome_existe</field_name>
        <variable_name>JOB_NOME_EXISTE</variable_name>
        <variable_type>ROOT_JOB</variable_type>
        <default_value/>
        </field>
      </fields>
    <use_formatting>Y</use_formatting>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
